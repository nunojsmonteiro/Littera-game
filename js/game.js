// Game Configuration
const height = 6; // guesses
const width = 4; // length

let row = 0; // current guess
let col = 0; // current letter

let gameOver = false;

// Words | Littera
const dictionary = [
  "able",
  "acid",
  "aged",
  "aims",
  "also",
  "alto",
  "amen",
  "amid",
  "ammo",
  "ante",
  "anti",
  "apex",
  "arch",
  "area",
  "army",
  "aunt",
  "auto",
  "away",
  "axis",
  "baby",
  "back",
  "bail",
  "bake",
  "ball",
  "bald",
  "band",
  "bank",
  "base",
  "bath",
  "bean",
  "bear",
  "beat",
  "been",
  "beer",
  "bell",
  "belt",
  "bend",
  "bent",
  "best",
  "beta",
  "bias",
  "bike",
  "bill",
  "bind",
  "bird",
  "bite",
  "blew",
  "bloc",
  "blow",
  "blue",
  "blur",
  "boat",
  "body",
  "boil",
  "bold",
  "bolt",
  "bomb",
  "bond",
  "bone",
  "book",
  "boom",
  "born",
  "boss",
  "both",
  "bout",
  "bowl",
  "boys",
  "brat",
  "brew",
  "brick",
  "bride",
  "brief",
  "bring",
  "brink",
  "bros",
  "bulb",
  "bulk",
  "bull",
  "bump",
  "burn",
  "bust",
  "busy",
  "buzz",
  "cake",
  "calm",
  "came",
  "camp",
  "card",
  "care",
  "carp",
  "cars",
  "cart",
  "case",
  "cash",
  "cast",
  "cats",
  "cave",
  "cell",
  "cent",
  "chat",
  "chef",
  "chew",
  "chic",
  "chin",
  "chip",
  "chow",
  "city",
  "clap",
  "clan",
  "clap",
  "clip",
  "clot",
  "club",
  "clue",
  "coal",
  "coat",
  "code",
  "coin",
  "cold",
  "come",
  "cone",
  "cook",
  "cool",
  "cope",
  "cord",
  "core",
  "corn",
  "cost",
  "cosy",
  "cows",
  "cram",
  "crop",
  "crow",
  "cube",
  "curl",
  "cure",
  "curl",
  "cute",
  "dame",
  "damn",
  "damp",
  "dance",
  "dare",
  "dark",
  "dash",
  "data",
  "date",
  "dawn",
  "dead",
  "deaf",
  "deal",
  "dear",
  "debt",
  "deck",
  "deer",
  "defy",
  "deli",
  "desk",
  "dial",
  "dice",
  "dick",
  "diet",
  "dime",
  "dirt",
  "dish",
  "disk",
  "dive",
  "dock",
  "does",
  "doge",
  "doll",
  "dome",
  "done",
  "doom",
  "door",
  "dope",
  "dose",
  "dove",
  "down",
  "doze",
  "drag",
  "draw",
  "drop",
  "drug",
  "drum",
  "dual",
  "duck",
  "dull",
  "dump",
  "dusk",
  "dust",
  "duty",
  "each",
  "earn",
  "ease",
  "east",
  "easy",
  "edge",
  "edit",
  "eggs",
  "else",
  "emit",
  "empty",
  "envy",
  "epic",
  "even",
  "ever",
  "evil",
  "exam",
  "exit",
  "fade",
  "fail",
  "fair",
  "fake",
  "fame",
  "farm",
  "fast",
  "fate",
  "fear",
  "feat",
  "feed",
  "feel",
  "feet",
  "fell",
  "felt",
  "fern",
  "feud",
  "file",
  "fill",
  "film",
  "find",
  "fine",
  "fire",
  "firm",
  "fish",
  "fist",
  "five",
  "flag",
  "flap",
  "flat",
  "flea",
  "flee",
  "flex",
  "flip",
  "flow",
  "flux",
  "foam",
  "foal",
  "folk",
  "food",
  "fool",
  "foot",
  "ford",
  "form",
  "fort",
  "foul",
  "four",
  "free",
  "frog",
  "from",
  "fuel",
  "full",
  "fund",
  "funk",
  "fury",
  "fuse",
  "fuss",
  "gain",
  "game",
  "gang",
  "gate",
  "gaze",
  "gear",
  "gene",
  "germ",
  "gift",
  "girl",
  "give",
  "glad",
  "glam",
  "glow",
  "goal",
  "goat",
  "gold",
  "golf",
  "gone",
  "good",
  "gore",
  "grab",
  "gray",
  "grid",
  "grim",
  "grin",
  "grip",
  "grow",
  "grub",
  "gulf",
  "gust",
  "hack",
  "hail",
  "hair",
  "half",
  "hall",
  "halt",
  "hand",
  "hang",
  "hard",
  "harm",
  "hash",
  "have",
  "hawk",
  "haze",
  "head",
  "heal",
  "heap",
  "hear",
  "heat",
  "heel",
  "held",
  "hell",
  "help",
  "herb",
  "here",
  "hero",
  "hide",
  "high",
  "hike",
  "hill",
  "hint",
  "hire",
  "hiss",
  "hist",
  "hive",
  "hold",
  "hole",
  "holy",
  "home",
  "hood",
  "hook",
  "hope",
  "horn",
  "host",
  "hour",
  "howl",
  "huge",
  "hull",
  "hump",
  "hunt",
  "hurt",
  "hymn",
  "hype",
  "idea",
  "idle",
  "inch",
  "info",
  "into",
  "iron",
  "item",
  "jail",
  "jazz",
  "jeep",
  "join",
  "joke",
  "jump",
  "just",
  "keen",
  "keep",
  "kick",
  "kill",
  "kind",
  "king",
  "kiss",
  "kite",
  "knee",
  "knit",
  "knob",
  "knot",
  "know",
  "lake",
  "lamb",
  "lamp",
  "land",
  "lane",
  "last",
  "late",
  "lazy",
  "leaf",
  "leak",
  "leap",
  "left",
  "lend",
  "lens",
  "less",
  "lest",
  "lift",
  "like",
  "limp",
  "line",
  "link",
  "lion",
  "list",
  "live",
  "load",
  "loaf",
  "loan",
  "lock",
  "loge",
  "long",
  "look",
  "loop",
  "lord",
  "lore",
  "loud",
  "love",
  "lube",
  "luck",
  "lump",
  "lung",
  "lure",
  "lust",
  "lute",
  "made",
  "maps",
  "main",
  "make",
  "male",
  "mall",
  "mail",
  "many",
  "mark",
  "mask",
  "mast",
  "mate",
  "math",
  "mead",
  "meal",
  "mean",
  "meat",
  "meet",
  "melt",
  "menu",
  "mess",
  "mice",
  "mile",
  "milk",
  "mill",
  "mind",
  "mine",
  "mint",
  "mist",
  "mixt",
  "mode",
  "moon",
  "mood",
  "more",
  "most",
  "moth",
  "move",
  "much",
  "mule",
  "muse",
  "must",
  "mute",
  "nail",
  "name",
  "nape",
  "nark",
  "navy",
  "near",
  "neat",
  "need",
  "nest",
  "news",
  "next",
  "nice",
  "nick",
  "nine",
  "node",
  "none",
  "noon",
  "norm",
  "nose",
  "note",
  "noun",
  "oath",
  "obey",
  "obit",
  "oily",
  "okay",
  "omen",
  "omit",
  "once",
  "only",
  "onto",
  "open",
  "oral",
  "over",
  "pace",
  "pack",
  "page",
  "paid",
  "pain",
  "pair",
  "pale",
  "palm",
  "pant",
  "park",
  "part",
  "pass",
  "past",
  "path",
  "pave",
  "pawn",
  "peak",
  "pear",
  "peel",
  "peer",
  "pelt",
  "pent",
  "perk",
  "perm",
  "pest",
  "pile",
  "pill",
  "pink",
  "pint",
  "pipe",
  "pity",
  "plan",
  "play",
  "plea",
  "plod",
  "plot",
  "plow",
  "plug",
  "plum",
  "plus",
  "poem",
  "poke",
  "pole",
  "poll",
  "pond",
  "pony",
  "pool",
  "poor",
  "port",
  "pose",
  "post",
  "pour",
  "pray",
  "prep",
  "prod",
  "prof",
  "prog",
  "prop",
  "prow",
  "puck",
  "puff",
  "pulp",
  "punk",
  "pure",
  "push",
  "putt",
  "quad",
  "quay",
  "quit",
  "quiz",
  "race",
  "rack",
  "raft",
  "rage",
  "raid",
  "rail",
  "rain",
  "ramp",
  "rank",
  "rant",
  "rare",
  "rash",
  "rate",
  "rave",
  "read",
  "real",
  "rear",
  "rely",
  "rend",
  "rent",
  "rest",
  "rice",
  "rich",
  "ride",
  "rift",
  "rill",
  "rime",
  "rind",
  "ring",
  "rink",
  "rise",
  "risk",
  "rite",
  "road",
  "roam",
  "roar",
  "robe",
  "rock",
  "role",
  "roll",
  "rope",
  "rose",
  "ruin",
  "rule",
  "rune",
  "runt",
  "rush",
  "rust",
  "ruth",
  "safe",
  "said",
  "sail",
  "sale",
  "salt",
  "same",
  "sand",
  "sane",
  "sank",
  "save",
  "says",
  "scan",
  "scar",
  "scat",
  "scum",
  "seal",
  "seam",
  "seat",
  "seed",
  "seek",
  "seem",
  "seen",
  "self",
  "sell",
  "send",
  "sent",
  "sets",
  "sewn",
  "sham",
  "shat",
  "shaw",
  "shed",
  "ship",
  "shoe",
  "shop",
  "shot",
  "show",
  "shun",
  "shut",
  "sick",
  "side",
  "sift",
  "sign",
  "silk",
  "sill",
  "silo",
  "silt",
  "sine",
  "sing",
  "sink",
  "site",
  "size",
  "skew",
  "skid",
  "skim",
  "skin",
  "skip",
  "skit",
  "slab",
  "slam",
  "slap",
  "slay",
  "sled",
  "slew",
  "slid",
  "slim",
  "slip",
  "slit",
  "slog",
  "slot",
  "slow",
  "slug",
  "slum",
  "slur",
  "smog",
  "snag",
  "snap",
  "snip",
  "snob",
  "snow",
  "snug",
  "soar",
  "sock",
  "soil",
  "sold",
  "sole",
  "solo",
  "some",
  "song",
  "soon",
  "soot",
  "sore",
  "sort",
  "soul",
  "soup",
  "sour",
  "span",
  "spat",
  "spin",
  "spit",
  "spot",
  "spry",
  "stab",
  "stag",
  "star",
  "stay",
  "stem",
  "step",
  "stir",
  "stop",
  "stow",
  "stub",
  "stud",
  "stun",
  "suit",
  "sulk",
  "sums",
  "sure",
  "swan",
  "swap",
  "sway",
  "swim",
  "swum",
  "sync",
  "tack",
  "tail",
  "take",
  "tale",
  "talk",
  "tall",
  "tame",
  "tank",
  "tape",
  "task",
  "tast",
  "team",
  "tear",
  "tech",
  "tell",
  "tend",
  "term",
  "test",
  "than",
  "that",
  "thee",
  "them",
  "then",
  "they",
  "thin",
  "this",
  "thou",
  "thud",
  "thus",
  "tick",
  "tide",
  "tidy",
  "tier",
  "till",
  "time",
  "tint",
  "tiny",
  "tire",
  "toll",
  "toil",
  "tone",
  "took",
  "tool",
  "tops",
  "torn",
  "toss",
  "tour",
  "town",
  "toys",
  "trap",
  "tray",
  "tree",
  "trim",
  "trip",
  "trod",
  "trot",
  "true",
  "tube",
  "tuck",
  "tune",
  "turf",
  "twig",
  "twin",
  "type",
  "ugly",
  "undo",
  "unit",
  "unto",
  "upon",
  "urge",
  "used",
  "user",
  "vain",
  "vali",
  "vamp",
  "vase",
  "veal",
  "veer",
  "veil",
  "vein",
  "verb",
  "vest",
  "vial",
  "vice",
  "vict",
  "view",
  "vile",
  "vine",
  "visa",
  "void",
  "volt",
  "vote",
  "wage",
  "wail",
  "wait",
  "wake",
  "walk",
  "wall",
  "walt",
  "want",
  "ward",
  "ware",
  "warm",
  "warn",
  "wart",
  "wash",
  "wasp",
  "watt",
  "wave",
  "waxt",
  "weak",
  "wean",
  "wear",
  "weed",
  "week",
  "weep",
  "weir",
  "well",
  "went",
  "were",
  "west",
  "what",
  "whee",
  "when",
  "whim",
  "whip",
  "whom",
  "whop",
  "wide",
  "wife",
  "wild",
  "will",
  "wind",
  "wine",
  "wing",
  "wink",
  "winn",
  "wipe",
  "wire",
  "wise",
  "wish",
  "with",
  "wits",
  "woke",
  "wolf",
  "wood",
  "wool",
  "word",
  "work",
  "worm",
  "worn",
  "wove",
  "wrap",
  "wren",
  "writ",
  "yank",
  "yard",
  "yarn",
  "year",
  "yell",
  "yeti",
  "yoga",
  "yoke",
  "yolk",
  "your",
  "zero",
  "zone",
  "zoom",
];

const magicalWord =
  dictionary[Math.floor(Math.random() * dictionary.length)].toUpperCase();
console.log(magicalWord);

// Audio
let myAudio = document.getElementById("myaudio");
myAudio.volume = 0.2;

// When the user clicks on <div>, open the popup
function myFunction() {
  let popup = document.getElementById("myPopup");
  popup.classList.toggle("show");
}

// When the window loads
window.onload = () => {
  createSquares();
};

// Function to create the game board
function createSquares() {
  for (let i = 0; i < height; i++) {
    for (let v = 0; v < width; v++) {
      let square = document.createElement("span");
      square.id = i.toString() + "-" + v.toString();
      square.classList.add("square");
      square.innerText = "";
      document.getElementById("grid").appendChild(square);
    }
  }
}

// Event listener for keyup
document.addEventListener("keyup", (event) => {
  if (gameOver) return;

  // Key A to Z
  if ("KeyA" <= event.code && event.code <= "KeyZ") {
    if (col < width) {
      let currSquare = document.getElementById(
        row.toString() + "-" + col.toString()
      );

      if (currSquare.innerText == "") {
        currSquare.innerText = event.code[3];
        col += 1;
      }
    }

    // Key Backspace
  } else if (event.code === "Backspace") {
    if (0 < col && col <= width) {
      col -= 1;
    }

    let currSquare = document.getElementById(
      row.toString() + "-" + col.toString()
    );
    currSquare.innerText = "";

    // Key Enter
  } else if (event.code === "Enter") {
    checker();
  }

  // Check if the player won the game
  if (!gameOver && row === height) {
    gameOver = true;
    document.getElementById("answer").innerText =
      "The word is " + magicalWord + "!\n Click New Game to play again 😃";
  }
});

// Function to check the word and update the game state
function checker() {
  let correct = 0;
  let attempt = "";
  document.getElementById("answer").innerText = "";

  for (let c = 0; c < width; c++) {
    let currSquare = document.getElementById(
      row.toString() + "-" + c.toString()
    );
    let letter = currSquare.innerText;
    attempt += letter;
  }

  attempt = attempt.toLowerCase();
  if (!dictionary.includes(attempt)) {
    document.getElementById("answer").innerText = "I don't know that word 😅";
    return;
  }

  // Checking the letters
  for (let c = 0; c < width; c++) {
    let currSquare = document.getElementById(
      row.toString() + "-" + c.toString()
    );
    let letter = currSquare.innerText;

    if (magicalWord[c] === letter) {
      currSquare.classList.add("correct");
      correct += 1;
    } else if (magicalWord.includes(letter)) {
      currSquare.classList.add("present");
    } else {
      currSquare.classList.add("incorrect");
    }
  }

  // If all letters are correct, the game is over
  if (correct === width) {
    gameOver = true;
    document.getElementById("winner").innerText =
      "You won! Congratulations 🥳🥳🥳\n Click New Game to play again 😃";
  }
  row += 1; // Move to the next row
  col = 0; // Reset the column position
}
